# ASCII-PET
Приложение для загрузки и просмотра изображений питомцев в ASCII формате.

## Стек
- Go (backend)
- Vue 3 + Vite (frontend)
- Docker + Docker Compose

## Установка и запуск проекта

### 1. Клонирование репозитория
```bash
git clone https://github.com/voronkov44/voronkov-ascii-pet-project.git
```

### 2. Переход в корневую директорию 
```bash
cd voronkov-ascii-pet-project
```
### 3. Настройка переменных окружения
Перед запуском убедитесь, что в корне проекта существует файл .env с параметром:
```ini
HOST_IP=127.0.0.1
```
Вы можете изменить IP, с которым будет работать проект, автоматически с помощью скрипта запуска, либо явно указать в .env-файле и запустить (вручную)[https://github.com/voronkov44/voronkov-ascii-pet-project?tab=readme-ov-file#%D0%BE%D0%BF%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D1%81%D0%B1%D0%BE%D0%BE%D1%80%D0%BA%D0%B0-%D0%B2-%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E]



### 4. Сборка и запуск проекта
*Требуется установка [docker](https://www.docker.com/products/docker-desktop/) и [docker-compose](https://docs.docker.com/compose/), если не установлен, смотрите [зависимости](https://github.com/voronkov44/voronkov-ascii-pet-project/tree/main?tab=readme-ov-file#%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8)*

#### 4.1. Автоматическая сборка и запуск проекта, через баш-скрипт:
В зависимости от ОС, запустите нужный скрипт, если на Linux:
```bash
./run_linux.sh
```
Если на MacOS:
```bash
./run_mac.sh
```

Скрипт автоматически:
- Запросит у вас IP-адрес, на котором вы хотите собрать контейнеры
- Подставит его в .env
- Соберет и запустит проект в Docker-контейнерах в режиме detached

#### После сборки контейнеров, откройте браузер, указав в нем ip-адрес, который вы ввели в скрипте

#### 4.2. Остановка контейнеров
```bash
docker-compose stop
```

#### 4.3. Запуск собранных контейнеров
```bash
docker-compose start
```

#### 4.4. Полная остановка и удаления контейнеров
```bash
docker-compose down
```

#### Опциональная сборка вручную:
Исправляем .env-файл на нужный IP-адрес:
```
HOST_IP=<ip-адрес>
```

Подгружаем .env файл
```bash
. .env
```

Собираем и поднимаем контейнеры
```bash
docker-compose up --build -d
```
*требуется указать IP-адрес в .env файле, на котором вы хотите собрать контейнеры*
*Для остановки, старта и удаления контейнеров, воспользуйтесь командами выше(4.2, 4.3, 4.4)*

## Примеры запуска через скрипт и вручную:
### Пример использования автоматического поднятия, через скрипт:
<img width="744" alt="image" src="https://github.com/user-attachments/assets/fd8c06ce-7377-4959-afb0-7123f1d1ef05" />

*Запускаем нужный скрипт и вводим ip-адрес в строке запроса*

<img width="740" alt="image" src="https://github.com/user-attachments/assets/edf1ca5e-d20d-4eb6-b679-56e3118d00c9" />

*Видим что контейнеры стартовали, значит можно переходить в браузер и вводить нужный ip-адрес*

<img width="1237" alt="image" src="https://github.com/user-attachments/assets/9697f42e-0730-4efc-aa64-7406d287eb6f" />


### Пример использования ручного поднятия:

<img width="174" alt="image" src="https://github.com/user-attachments/assets/4a6960ed-dc6a-4d87-93f7-2fe3addb41ff" />

*Исправили ip-адрес в .env-файле*

<img width="745" alt="image" src="https://github.com/user-attachments/assets/ad88a2b4-7428-474d-ad92-cb0d1aa68a6b" />

*Удалили старые контейнеры, добавили в строку `. .env`, запустили контейнеры `docker-compose up --build -d`*

<img width="749" alt="image" src="https://github.com/user-attachments/assets/3a00629a-eb67-47e8-bbdd-bd018042fd2c" />

*Видим что контейнеры стартовали, значит можно переходить в браузер и вводить нужный ip-адрес*

<img width="1224" alt="image" src="https://github.com/user-attachments/assets/a738d6ed-250e-4efe-a0b9-0eb25fc40c9b" />


## Порты
- Frontend (SPA) - ```:80```
- Backend (API) - ```:8000```

## Swagger
- Swagger документация доступна по адресу - ```http://ip-адрес, который вы указали/swagger/index.html```

## Отличие от ТЗ
### 1. В первоначальном ТЗ в спецификации Swagger были предусмотрены только методы PUT и GET для работы с изображениями.
Однако для более удобного UX и лучшей работы фронтенда, было принято решение:
- Добавить метод DELETE для удаления изображений.
- Не реализовывать удаление методом PUT, путем отправки пустых значений, чтобы избежать лишних проверок и усложнения кода.
- Фронтенд также дополнительно оснащен иконками для копирования и удаления изображений.

### 2. Реализованные режимы валидации
В проекте предусмотрено два режима валидации ASCII-рисунков:

#### Строгая валидация (по умолчанию):
- Ограничение по количеству символов — не более 128 символов.
- Допускаются только символы из стандартного ASCII набора (кодировка от 32 до 126).
- Предназначена для проверки "классических" ASCII-артов.
- Исключает возможность создания рисунков с нестандартными символами или излишним размером.

#### Гибкая валидация:
- Снимает ограничение по количеству символов.
- Допускает использование любых символов, включая расширенные Unicode-символы, что позволяет рисовать более сложные и нестандартные изображения.
- Полезна для творческих рисунков и тестов без строгих ограничений.

### 3. Копирование текста
Копирование текста в буфер обмена программно возможно только:
- при открытии сайта по `https://` (защищённое соединение)
- на localhost (который браузер приравнивает к доверенному окружению для разработки)

## **Зависимости**

Установка пакета [Docker Engine](https://docs.docker.com/engine/install/)

Установка пакета [Docker Compose](https://docs.docker.com/compose/install/)

